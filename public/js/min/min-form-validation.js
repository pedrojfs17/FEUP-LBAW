const forms=document.querySelectorAll(".validate-form");forms.forEach(e=>{e.querySelectorAll("input").forEach(t=>{t.addEventListener("keyup",function(){t.classList.remove("is-invalid"),t.classList.remove("is-valid"),e.classList.remove("was-validated")}),t.addEventListener("change",function(){t.classList.remove("is-invalid"),t.classList.remove("is-valid"),e.classList.remove("was-validated")})})});const resetButtons=document.querySelectorAll(".reset-form-button");function validateRecoverPasswordForm(){const e=document.querySelector("#changePassword");return validatePassword(e,"#inputPassword",!1)&&validatePassword(e,"#inputNewPassword",!0)}function validateCreateTaskForm(){const e=document.querySelector("#createTaskForm");let t=e.querySelector('[name="name"]'),r=e.querySelector('[type="date"]'),a=!0;return""!==r.value&&(a=dateAfterToday(e,r)),fieldNotEmpty(e,t)&&a}function validateCreateTagForm(){const e=document.querySelector("#createTagForm");let t=e.querySelector('[name="name"]');return fieldNotEmpty(e,t)}function validatePassword(e,t,r,a){let i=e.querySelector(t),s=!0;if(r){let r=e.querySelector(t+"Confirmation");s=checkForConfirmationInput(e,i,r,"Passwords must match!")}return 0===i.value.length&&(s=!1,i.setCustomValidity("Please fill out this field!"),e.querySelector("#"+i.getAttribute("aria-describedby")).innerText="Please fill out this field!"),a&&i.value.length<6&&(s=!1,i.setCustomValidity("Password must be at least 6 characters long!"),e.querySelector("#"+i.getAttribute("aria-describedby")).innerText="Password must be at least 6 characters long!"),s}function fieldNotEmpty(e,t){return""!==t.value||(t.setCustomValidity("Please fill out this field!"),e.querySelector("#"+t.getAttribute("aria-describedby")).innerText="Please fill out this field!",t.classList.add("is-invalid"),!1)}function dateAfterToday(e,t){let r=new Date(t.value);return!((new Date).getTime()>r.getTime())||(t.setCustomValidity("Due date must be after today!"),e.querySelector("#"+t.getAttribute("aria-describedby")).innerText="Due date must be after today!",t.classList.add("is-invalid"),!1)}function checkForConfirmationInput(e,t,r,a){return t.value===r.value||(r.setCustomValidity(a),e.querySelector("#"+r.getAttribute("aria-describedby")).innerText=a,r.classList.add("is-invalid"),!1)}function serverSideValidation(e,t){t.errors&&Object.keys(t.errors).forEach(r=>{let a=e.querySelector('[name="'+r+'"]');a.classList.add("is-invalid");let i=e.querySelector("#"+a.getAttribute("aria-describedby"));i.innerText=t.errors[r][0],a.addEventListener("change",()=>{a.classList.remove("is-invalid"),i.innerText=""})})}resetButtons.forEach(e=>{e.addEventListener("click",function(){let t=document.querySelector("#"+e.dataset.target);t.classList.remove("was-validated"),t.reset()})});
