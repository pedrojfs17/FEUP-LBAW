let current=1;const fieldsets=document.querySelectorAll("fieldset"),nextButtons=document.querySelectorAll(".next"),previousButtons=document.querySelectorAll(".previous"),progressBar=document.getElementById("ms-form-progress-bar"),progressBarItems=document.getElementById("progressbar").querySelectorAll(".progress-item "),steps=fieldsets.length;setProgressBar(current),nextButtons.forEach(e=>e.addEventListener("click",nextFieldset)),previousButtons.forEach(e=>e.addEventListener("click",previousFieldset));const inputs=document.querySelectorAll('fieldset input[type="text"]'),textareas=document.querySelectorAll("fieldset textarea");inputs.forEach(e=>e.addEventListener("change",function(){checkMissing(e)})),textareas.forEach(e=>e.addEventListener("change",function(){checkMissing(e)}));const closeButton=document.querySelectorAll("#createProjectModal .btn-close")[0];function checkMissing(e){null==e.value||String(e.value).valueOf()===String("").valueOf()?e.classList.add("invalid-input"):e.classList.remove("invalid-input")}function missingInput(e){let t=!1;for(let s=0;s<e.length;s++)null!=e[s].value&&String(e[s].value).valueOf()!==String("").valueOf()||(e[s].classList.add("invalid-input"),t=!0);return t}function nextFieldset(){let e=fieldsets[current-1].querySelectorAll('input[type="text"]'),t=fieldsets[current-1].querySelectorAll("textarea");if(missingInput(e)||missingInput(t))return;const s=current,r=current+1;progressBarItems[r-1].classList.add("active"),fieldsets[r-1].style.display="block",fieldsets[s-1].animate([{opacity:1},{opacity:0}],500),fieldsets[r-1].animate([{opacity:0},{opacity:1}],500),fieldsets[s-1].style.display="none",setProgressBar(++current)}function previousFieldset(){const e=current,t=current-1;progressBarItems[e-1].classList.remove("active"),fieldsets[t-1].style.display="block",fieldsets[e-1].animate([{opacity:1},{opacity:0}],500),fieldsets[t-1].animate([{opacity:0},{opacity:1}],500),fieldsets[e-1].style.display="none",setProgressBar(--current)}function setProgressBar(e){var t=parseFloat(100/(steps-1))*(e-1);t=t.toFixed(),progressBar.style.width=t+"%"}closeButton.addEventListener("click",function(){for(document.getElementById("msform").reset(),inputs.forEach(e=>e.classList.remove("invalid-input")),textareas.forEach(e=>e.classList.remove("invalid-input"));1!==current;)previousFieldset()});
