function addEditButtonEventListner(t){t.querySelectorAll(".editButton").forEach(t=>{t.addEventListener("click",editButtonHandler)})}function addCancelButtonEventListner(t){t.querySelectorAll(".cancelButton").forEach(t=>{t.addEventListener("click",cancelButtonHandler)})}function addSaveButtonEventListner(t){t.querySelectorAll(".saveButton").forEach(t=>{t.addEventListener("click",saveButtonHandler)})}function editButtonHandler(t){const e=t.target.closest(".editButton");e.parentElement.classList.toggle("d-none"),e.form.classList.toggle("d-none")}function cancelButtonHandler(t){const e=t.target.closest(".cancelButton"),n=document.getElementById(e.form.dataset.info),a=e.form.elements;for(input of a)"_token"!=input.name&&(input.value=input.placeholder);n.classList.toggle("d-none"),e.form.classList.toggle("d-none")}function saveButtonHandler(t){const e=t.target.closest(".saveButton"),n=(document.getElementById(e.form.dataset.info),e.form.elements);let a={};for(input of n)input.value==input.placeholder&&"_token"!==input.name||(a[input.name]=input.value,"_token"!=input.name&&(input.placeholder=input.value));1!==Object.keys(a).length&&sendAjaxRequest("PATCH",e.form.action,encodeForAjax(a),t=>{onSaveSuccess(e.form,t)},t=>{serverSideValidation(e.form,t)})}function onSaveSuccess(t,e){let n=t.dataset.info;t.classList.toggle("d-none"),updateCard(e.taskID,e.taskCard),updateTaskModal("tasks"+e.taskID+"ModalLabel",e.breadcrumbChanges),updateTaskModal(n,e.modalChanges);let a=document.getElementById("task"+e.taskID+"Modal");addModalEventListeners(a)}
